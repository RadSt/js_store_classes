Пример рефакторинга кода на js
По мотивам статьи Марина Фаулера